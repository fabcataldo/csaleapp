<!--
  Generated template for the PurchaseProductsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <div *ngIf="!filterProductsPerBenefit">
      <ion-title>Comprar productos</ion-title>
    </div>
    <div *ngIf="filterProductsPerBenefit">
      <ion-title>Beneficios disponibles</ion-title>
    </div>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-list *ngFor="let product of productsSrv; let i=index">
    <ion-card>
      <ion-item>
        <div *ngIf="product.description.includes('Entrada')">
          <img class="imgStyle" src="../assets/imgs/entrada.jpg">
        </div>
        <div *ngIf="!product.description.includes('Entrada')">
          <img class="imgStyle" src="../assets/imgs/benefit.jpg">
        </div>
        <br>
        <h1 style="text-align: center; white-space: break-spaces">{{product.description}}</h1>
      </ion-item>
      <br>
      <ion-card-content>
        <div style="text-align: center;">
          <ion-label class="labelProducts">
            Precio: $ {{product.price}}
          </ion-label>
          <ion-label class="labelProducts">
            Validez: {{product.valid_date_from}} - {{product.valid_date_to}}
          </ion-label>
        </div>
          <ion-row>
            <ion-col col-3>
              <ion-label class="labelProducts">
                Cantidad:
              </ion-label>
            </ion-col>
            <ion-col col-9>
              <ion-row>
                <ion-col col-3>
                  <button color="loginButton" round ion-button (tap)="addItem(i, product, 0 )"
                    style="width: 4rem; height: 4rem;">
                    <p style="color: white">
                      -
                    </p>
                  </button>
                </ion-col>
                <ion-col col-3>
                  <div style="text-align: center; margin-left:2.5vh">
                    <ion-label>
                      {{setQuantities(product)}}
                    </ion-label>
                  </div>
                </ion-col>
                <ion-col col-3>
                  <button color="loginButton" round ion-button (tap)="addItem(i, product, 1)"
                    style="width: 4rem; height: 4rem;">
                    <p style="color: white">
                      +
                    </p>
                  </button>
                </ion-col>

              </ion-row>
            </ion-col>
          </ion-row>
        
      </ion-card-content>
    </ion-card>
  </ion-list>
  
  <div class="noTickets" *ngIf="!productsSrv">
    <img class="cartImg" src="../../assets/imgs/openbox.png">
    <h1 style="color:#606060">¡No hay ningún producto cargado!.</h1>
  </div>
</ion-content>

<ion-footer>
  <ion-row>
    <ion-col no-padding>
      <button type="submit" ion-button full color="loginButton" class="oneButtons" [disabled]="!canPay"
        (tap)="goToCartPage()" no-margin style="width: 100%">
        Continuar
      </button>
    </ion-col>
  </ion-row>
</ion-footer>