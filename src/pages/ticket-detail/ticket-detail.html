<!--
  Generated template for the TicketDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="primary">
        <ion-title>Detalle de compra</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <div id="Html2Pdf">
        <ion-card>
            <ion-item no-lines>
                <h1 style="color:black; text-align:center; ">
                    CSaleApp
                </h1>
                <h2 style="color:black; text-align:center;">
                    Recibo
                </h2>
                <h3 style="color:black; text-align:center;">
                    Código de compra: <br>{{ticket._id}}
                </h3>
            </ion-item>

            <ion-card-content>
                <ion-list>
                    <ion-item no-lines>
                        Fecha: {{ticket.dateOfPurchase}}
                    </ion-item>

                    <ion-item no-lines>
                        Productos:
                        <ion-list>
                            <ion-item text-wrap>
                                <ion-grid *ngFor="let purchaseProduct of ticket.purchaseProducts">
                                    <ion-row>
                                        <ion-col>
                                            Descripción
                                        </ion-col>
                                        <ion-col>
                                            Precio
                                        </ion-col>
                                        <ion-col>
                                            Cantidad
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            {{purchaseProduct.product.description}}
                                        </ion-col>
                                        <ion-col>
                                            {{purchaseProduct.product.price}}
                                        </ion-col>
                                        <ion-col>
                                            {{purchaseProduct.quantity}}
                                        </ion-col>
                                    </ion-row>
                                </ion-grid>
                            </ion-item>
                        </ion-list>
                    </ion-item>
                    <ion-item no-lines text-wrap style="margin-bottom: -10px; margin-top: -10px">
                        Validez: {{ticket.validDateFrom}}-{{ticket.validDateTo}}
                    </ion-item>
                    <ion-item no lines>
                        Total: {{ticket.total}} ARS
                    </ion-item>
                    <ion-item no lines>
                        Pagaste con:
                        <ion-grid *ngFor="let paymentMethod of ticket.paymentMethods">
                            <ion-row>
                                - {{paymentMethod.name}}
                            </ion-row>
                            <ion-row>
                                Abonaste: {{paymentMethod.amount_paid}} ARS
                            </ion-row>
                        </ion-grid>
                    </ion-item>
                    <div>
                        Nota: cuando llegués a la entrada, mostrale al boletero/a o barman/barwoman este ticket, asi aprovechás tu compra!.
                    </div>
                </ion-list>
            </ion-card-content>
        </ion-card>
    </div>
    <button ion-button (tap)="downloadTicket()" class="oneButtons">
        Imprimir
    </button>
</ion-content>