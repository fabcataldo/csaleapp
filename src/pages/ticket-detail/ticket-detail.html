<ion-header>
    <ion-navbar color="primary">
        <ion-title>Detalle de compra</ion-title>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <div id="Html2Pdf">
        <ion-card>
            <ion-item no-lines>
                <h1 style="color:black; text-align:center; ">
                    CSaleApp
                </h1>
                <h2 style="color:black; text-align:center;">
                    Código único: <br>{{ticket.unique_code}}
                </h2>
            </ion-item>
            <br>
            <ion-card-content>
                <ion-list>
                    <ion-item no-lines class="itemLabels">
                        Fecha: {{toCorrectDate(ticket.date_of_purchase)}}
                    </ion-item>
                    <ion-item class="itemLabels">
                        Productos:
                        <ion-list>
                            <ion-item text-wrap>
                                <ion-grid>
                                    <ion-row>
                                        <ion-col class="cell-class">
                                            Descripción
                                        </ion-col>
                                        <ion-col class="cell-class">
                                            Precio
                                        </ion-col>
                                        <ion-col class="cell-class">
                                            Cantidad
                                        </ion-col>
                                        <ion-col class="cell-class">
                                            Validez
                                        </ion-col>
                                    </ion-row>
                                    <div *ngFor="let purchaseProduct of ticket.purchased_products">
                                        <ion-row>
                                            <ion-col class="cell-class">
                                                {{purchaseProduct.product.description}}
                                            </ion-col>
                                            <ion-col class="cell-class">
                                                {{purchaseProduct.product.price}}
                                            </ion-col>
                                            <ion-col class="cell-class">
                                                {{purchaseProduct.quantity}}
                                            </ion-col>
                                            <ion-col class="cell-class">
                                                {{toCorrectDate(purchaseProduct.product.valid_date_from)}}-{{toCorrectDate(purchaseProduct.product.valid_date_to)}}
                                            </ion-col>
                                        </ion-row>
                                    </div>
                                </ion-grid>
                            </ion-item>
                        </ion-list>
                    </ion-item>
                    <br>
                    <ion-item no lines class="itemLabels">
                        Total: ${{ticket.total}}
                    </ion-item>
                    <ion-item no lines class="itemLabels">
                        Pagaste ${{ticket.payment_methods.amount_paid}} con {{toCapitalize(ticket.payment_methods.payment_method.name)}}
                    </ion-item>
                    <br>
                    <br>
                    <ion-item no lines class="itemLabels" text-wrap>
                        Nota: cuando llegués a la entrada, mostrale al boletero/a o barman/barwoman este ticket, asi aprovechás tu compra!.
                    </ion-item>
                </ion-list>
            </ion-card-content>
        </ion-card>
    </div>
</ion-content>
