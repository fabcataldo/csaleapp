<!--
  Generated template for the ShoppingCheckoutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-title>Comprar productos</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h1 style="color:black; text-align:center">
    ¿Cómo querés pagar?
  </h1>
  <br>
  <ion-list>
    <ion-item style="border-bottom: 6px solid #ffff" (tap)="goToCashPaymentPage()" >
      <img item-start class="imgPaymentMethods" src="../assets/imgs/cash1.png">
      <ion-label>Efectivo</ion-label>
    </ion-item>
    <ion-item style="border-bottom: 6px solid #ffff"(tap)="goToCardPaymentPage()">
      <img item-start  class="imgPaymentMethods" src="../assets/imgs/card1.png">
      <ion-label>Tarjeta</ion-label>
    </ion-item>
    <ion-item style="border-bottom: 6px solid #ffff" (tap)="goToMercadopagoPaymentPage()" >
      <img item-start class="imgPaymentMethods" src="../assets/imgs/mp1.png">
      <ion-label>Mercado Pago</ion-label>
    </ion-item>
  </ion-list>

  <br>
  <br>
  <h2 style="color:black; text-align:center">
    Pagos realizados
  </h2>
  <div *ngIf="cart.ticket.payment_methods.length == 0">
    <ion-item style="color:black; text-align:center" no-lines>
      <p>Todavía no pagaste nada!.</p>
    </ion-item>
    
  </div>
  <ion-list *ngFor="let paymentMethod of this.cart.ticket.payment_methods">
    <ion-item-sliding>
      <ion-item style="border-bottom: 3.8px solid rgb(200, 200, 200)">
        {{toCapitalize(paymentMethod.paymentMethod.name)}}: ${{paymentMethod.amountPaid}}
      </ion-item>
      <ion-item-options side="right">
        <button ion-button icon-start (click)="goToPaymentPage(paymentMethod)">
          <ion-icon name="create"></ion-icon>
        </button>
        <button ion-button icon-start (click)="removePayment(paymentMethod)">
          <ion-icon name="trash"></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>


<ion-footer no-border>
    <ion-row>
      <button type="submit" ion-button full color="loginButton" class="oneButtons" [disabled]="canPay"
        (tap)="goToTicketDetailPage()" no-margin style="width: 100%">
        Continuar
      </button>
    </ion-row>
</ion-footer>